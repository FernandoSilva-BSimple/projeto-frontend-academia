<form *ngIf="draft()" (ngSubmit)="save()" class="details-card">
  <h3>Edit Holiday Plan</h3>

  <form *ngIf="draft() as d" (ngSubmit)="save()" class="details-card">
  <h3>Edit Holiday Plan</h3>

  <div *ngFor="let pr of d.periods; let i = index">
    <input
      type="date"
      [ngModel]="pr.initDate"
      (ngModelChange)="updatePeriod(i, 'initDate', $event)"
      name="init{{i}}"
    />
    <input
      type="date"
      [ngModel]="pr.endDate"
      (ngModelChange)="updatePeriod(i, 'endDate', $event)"
      name="end{{i}}"
    />
  </div>

  <button type="button" (click)="add()">Add Period</button>

  <div style="margin-top:1rem">
    <button type="submit">Save</button>
    <button type="button" (click)="cancel()">Cancel</button>
  </div>
</form>